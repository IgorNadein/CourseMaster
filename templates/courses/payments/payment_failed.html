{% extends 'base.html' %}

{% block title %}Ошибка платежа - CourseMaster{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card border-danger">
                <div class="card-body p-5 text-center">
                    <div style="font-size: 3rem; color: #dc3545; margin-bottom: 1rem;">
                        <i class="bi bi-x-circle"></i>
                    </div>
                    
                    <h2 class="card-title mb-2">Ошибка платежа</h2>
                    <p class="text-muted mb-4">
                        Платеж не был обработан. Пожалуйста, попробуйте еще раз.
                    </p>

                    <!-- Информация о платеже -->
                    <div class="alert alert-danger mb-4">
                        <strong>Курс:</strong> {{ course.title }}<br>
                        <strong>Сумма:</strong> {{ purchase.total_amount }} ₽<br>
                        <strong>Статус:</strong> <span class="badge bg-danger">Ошибка платежа</span><br>
                        <strong>ID покупки:</strong> #{{ purchase.id }}
                    </div>

                    <!-- Возможные причины -->
                    <h5 class="mb-3">Возможные причины ошибки:</h5>
                    <ul class="list-unstyled text-start mb-4" style="margin-left: 2rem;">
                        <li class="mb-2">• Неверные данные карты</li>
                        <li class="mb-2">• Недостаточно средств</li>
                        <li class="mb-2">• Карта заблокирована</li>
                        <li class="mb-2">• Временный сбой платежной системы</li>
                    </ul>

                    <!-- Кнопки действий -->
                    <a href="{% url 'course_checkout' course.slug %}" class="btn btn-primary btn-lg mb-2 w-100">
                        <i class="bi bi-arrow-counterclockwise"></i> Попробовать еще раз
                    </a>
                    
                    <a href="{% url 'course_detail' course.slug %}" class="btn btn-outline-secondary btn-lg w-100">
                        <i class="bi bi-arrow-left"></i> Вернуться к курсу
                    </a>
                </div>
            </div>

            <!-- Информация поддержки -->
            <div class="alert alert-warning mt-4">
                <strong>Нужна помощь?</strong> 
                Свяжитесь с нашей <a href="#" class="alert-link">командой поддержки</a> для решения проблемы
            </div>

            <!-- Советы -->
            <div class="alert alert-info mt-3">
                <strong>Советы:</strong>
                <ul class="mb-0 mt-2">
                    <li>Проверьте наличие средств на карте</li>
                    <li>Убедитесь в правильности данных карты</li>
                    <li>Попробуйте другой способ оплаты</li>
                    <li>Обновите страницу и попробуйте еще раз</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
