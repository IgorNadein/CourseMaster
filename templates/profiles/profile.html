{% extends 'base.html' %}

{% block title %}{{ profile_user.username }} - Профиль - CourseMaster{% endblock %}

{% block extra_css %}
<style>
    .profile-header {
        display: flex;
        align-items: center;
        gap: 30px;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #ecf0f1;
    }
    
    .profile-avatar {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #3498db;
    }
    
    .profile-avatar-placeholder {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        background-color: #3498db;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        color: white;
        font-weight: bold;
        border: 4px solid #2980b9;
    }
    
    .profile-info h2 {
        font-size: 32px;
        margin-bottom: 10px;
        color: #2c3e50;
    }
    
    .profile-username {
        color: #7f8c8d;
        font-size: 18px;
        margin-bottom: 10px;
    }
    
    .profile-actions {
        margin-top: 15px;
    }
    
    .profile-details {
        display: grid;
        gap: 20px;
    }
    
    .profile-section {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 6px;
        border-left: 4px solid #3498db;
    }
    
    .profile-section h3 {
        font-size: 18px;
        margin-bottom: 10px;
        color: #2c3e50;
    }
    
    .profile-field {
        margin-bottom: 10px;
    }
    
    .profile-field-label {
        font-weight: 600;
        color: #555;
        display: inline-block;
        width: 140px;
    }
    
    .profile-field-value {
        color: #333;
    }
    
    .profile-bio {
        line-height: 1.8;
        color: #555;
    }
    
    .empty-state {
        color: #95a5a6;
        font-style: italic;
    }
</style>
{% endblock %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <div>
            {% if profile.avatar %}
                <img src="{{ profile.avatar.url }}" alt="{{ profile_user.username }}" class="profile-avatar">
            {% else %}
                <div class="profile-avatar-placeholder">
                    {{ profile_user.username|first|upper }}
                </div>
            {% endif %}
        </div>
        
        <div class="profile-info">
            <h2>{{ profile_user.get_full_name|default:profile_user.username }}</h2>
            <div class="profile-username">@{{ profile_user.username }}</div>
            
            {% if user == profile_user %}
                <div class="profile-actions">
                    <a href="{% url 'profile_edit' %}" class="btn">Редактировать профиль</a>
                </div>
            {% endif %}
        </div>
    </div>
    
    <div class="profile-details">
        {% if profile.bio %}
            <div class="profile-section">
                <h3>О себе</h3>
                <p class="profile-bio">{{ profile.bio }}</p>
            </div>
        {% endif %}
        
        <div class="profile-section">
            <h3>Личная информация</h3>
            
            {% if profile_user.email %}
                <div class="profile-field">
                    <span class="profile-field-label">Email:</span>
                    <span class="profile-field-value">{{ profile_user.email }}</span>
                </div>
            {% endif %}
            
            {% if profile.location %}
                <div class="profile-field">
                    <span class="profile-field-label">Местоположение:</span>
                    <span class="profile-field-value">{{ profile.location }}</span>
                </div>
            {% endif %}
            
            {% if profile.website %}
                <div class="profile-field">
                    <span class="profile-field-label">Веб-сайт:</span>
                    <span class="profile-field-value">
                        <a href="{{ profile.website }}" target="_blank">{{ profile.website }}</a>
                    </span>
                </div>
            {% endif %}
            
            {% if not profile_user.email and not profile.location and not profile.website %}
                <p class="empty-state">Личная информация пока не заполнена.</p>
            {% endif %}
        </div>
        
        <div class="profile-section">
            <h3>На платформе с</h3>
            <p class="profile-field-value">{{ profile_user.date_joined|date:"d E Y г." }}</p>
        </div>
    </div>
</div>
{% endblock %}
